<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sexual OCD</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="/images/3P.png">

</head>

<body>
<div class="main">
  <h4>Self Diagnostic Evaluation Test for Sexual OCD</h4>
</div>

  <div class="container">
    <div id="question-container">
      <div class="form-style">
        <form id="quiz-form" action="#">
          <div class="user-details">
            <div class="input-box">
              <!-- <span class="details">Full Name</span> -->
              <input type="text" placeholder="Enter name " name="name" required>
            </div>

            <div class="input-box">
              <!-- <span class="details">Email</span> -->
              <input type="text" placeholder="Enter email" name="email" required>
            </div>
            <div class="input-box">
              <!-- <span class="details">Phone Number</span> -->
              <input type="text" placeholder="Enter number" name="Phone" required>
            </div>
            <div class="input-box">
              <!-- <span class="details">Phone Number</span> -->
              <input type="number" placeholder="Enter age" name="age" required>
            </div>
          </div>

          <!--QUESTION one !-->
          <div class="box1">
            <div class="radio ">
              <p>1) Do you have forbidden or taboo sex topic related thoughts, urges or impulses, for example Adultery
                or rape?</p>
              <ul class="radio options">
                <div class="fieldgroup">
                  <input type="radio" name="q1" value=1 id="q1a" class="radio-label"><label for="q1a">Not at all
                  </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q1" value=0 id="q1b" class="radio-label"><label
                    for="q1b">Sometimes</label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q1" value=0 id="q1c" class="radio-label"><label for="q1b">More than 1 hour
                    everyday </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q1" value=0 id="q1d" class="radio-label"><label for="q1b">Most of the time
                  </label><br />
                </div>
              </ul>
            </div>
          </div>
          <!--QUESTION two !-->
          <div class="box1">
            <div class="radio ">
              <p>2) Being in doubt whether you’re or will turn homosexual even if you’re straight? </p>
              <ul class="radio options">
                <div class="fieldgroup">
                  <input type="radio" name="q2" value=1 id="q2a" class="radio-label"><label for="q1a">Not at all
                  </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q2" value=0 id="q2b" class="radio-label"><label
                    for="q1b">Sometimes</label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q2" value=0 id="q2c" class="radio-label"><label for="q1b">More than 1 hour
                    everyday </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q2" value=0 id="q2d" class="radio-label"><label for="q1b">Most of the time
                  </label><br />
                </div>
              </ul>
            </div>
          </div>

      
          <!--QUESTION three !-->
          <div class="box1">
            <div class=radio>
              <p>3) Unwanted thoughts of molesting a child or children?</p>
              <ul class="radio options">
                <div class="fieldgroup">
                  <input type="radio" name="q3" value=1 id="q3a" class="radio-label"><label for="q1a">Not at all
                  </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q3" value=0 id="q3b" class="radio-label"><label
                    for="q1b">Sometimes</label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q3" value=0 id="q3c" class="radio-label"><label for="q1b">More than 1 hour
                    everyday </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q3" value=0 id="q3d" class="radio-label"><label for="q1b">Most of the time
                  </label><br />
                </div>
              </ul>
            </div>
          </div>


          <!--QUESTION four !-->
          <div class="box1">
            <div class=radio>
              <p>4)Sexual thoughts, images, urges or impulses about relatives including close relative father mother? </p>
              <ul class="radio options">
                <div class="fieldgroup">
                  <input type="radio" name="q4" value=1 id="q4a" class="radio-label"><label for="q1a">Not at all </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q4" value=0 id="q4b" class="radio-label"><label for="q1b">Sometimes</label><br />
                </div>
                <div class="fieldgroup">
                    <input type="radio" name="q4" value=0 id="q4c" class="radio-label"><label for="q1b">More than 1 hour everyday </label><br />
                  </div>
                  <div class="fieldgroup">
                    <input type="radio" name="q4" value=0 id="q4d" class="radio-label"><label for="q1b">Most of the time </label><br />
                  </div>
              </ul>
            </div>
          </div>

          <!--QUESTION five !-->
          <div class="box1">
            <div class=radio>
              <p>5)	Do you perform rituals, for example chanting certain words, abusing yourself, praying to God, reassuring yourself that you won’t do such things?</p>
              <ul class="radio options">
                <div class="fieldgroup">
                  <input type="radio" name="q5" value=1 id="q5a" class="radio-label"><label for="q1a">Not at all </label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q5" value=0 id="q5b" class="radio-label"><label for="q1b">Sometimes</label><br />
                </div>
                <div class="fieldgroup">
                    <input type="radio" name="q5" value=0 id="q5c" class="radio-label"><label for="q1b">More than 1 hour everyday </label><br />
                  </div>
                  <div class="fieldgroup">
                    <input type="radio" name="q5" value=0 id="q5d" class="radio-label"><label for="q1b">Most of the time </label><br />
                  </div>
              </ul>
            </div>
          </div>

          <!--QUESTION six !-->
          <div class="box1">
            <div class=radio>
              <p>6) Are you an alcohol Addict? </p>
              <ul class="radio options">
                <div class="fieldgroup">
                  <input type="radio" name="q6" value=1 id="q6a" class="radio-label"><label for="q6a">Yes</label><br />
                </div>
                <div class="fieldgroup">
                  <input type="radio" name="q6" value=0 id="q6b" class="radio-label"><label for="q6b">No</label><br />
                </div>
              </ul>
            </div>
          </div>
          <div class="box1">
            <p id="result"></p>
          </div>
          <button type="submit" id="btnSubmit">Submit</button>


          <!-- <p id="result"></p> -->

          <!-- <a href="">
            <p id="bookslot"></p>
          </a> -->
        </form>
      </div>

    </div>

  </div>




  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('quiz-form')
        .addEventListener('submit', handleForm);
    });
    function handleForm(ev) {
      ev.preventDefault();
      let myform = ev.target;
      let fd = new FormData(myform);
      var object1 = {};
      for (let key of fd.keys()) {
        object1[key] = fd.get(key);
      }
      var data = JSON.stringify(object1);

      let url = 'https://gadbackend20220216222747.azurewebsites.net/api/v1/soad';
      let req = new Request(url, {
        body: data,
        method: 'POST',
      });
      req.headers.set('Content-Type', 'application/json');


      var client = new HttpClient();
      client.post(url, data, function (response) {
        // do something with response
        const data = JSON.parse(response);
        if (data.Ans == 'Yes') {
          document.getElementById("result").innerHTML = "Hey, you might have Sexual OCD.  Our Team Will Contact You Very Soon";
          document.getElementById("bookslot").innerHTML = "Book Slot";
        }
        else
          document.getElementById("result").innerHTML = "Cool, You might not have Sexual OCD";

        //Print book slot


      });

      // .then((res) => res.json())
      // .then((data) => {
      //   console.log(data);

      // })
      // .catch(console.warn);

    }

    var HttpClient = function () {
      this.post = function (aUrl, body, aCallback) {

        var anHttpRequest = new XMLHttpRequest();
        anHttpRequest.onreadystatechange = function () {
          if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)
            aCallback(anHttpRequest.responseText);
        }
        anHttpRequest.open("POST", aUrl, true);
        anHttpRequest.setRequestHeader("Content-Type", "application/json");

        anHttpRequest.send(body);
      }
      //Reset contents of form
    document.getElementById("quiz-form").reset();
    }
  </script>
  </div>


</body>

</html>